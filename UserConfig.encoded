<?PHP
global $logger;
define('AUTO_UPDATE_USERCONFIG', true);
define('CONFIG_URL_USERCONFIG', 'https://raw.githubusercontent.com/banyazavi/torr/master/UserConfig.encoded');

# Update Check
if (AUTO_UPDATE_USERCONFIG) {
    $update_check_file_userconfig = sys_get_temp_dir() . DIRECTORY_SEPARATOR . 'torr-userconfig.updatecheck';
    if (@file_get_contents($update_check_file_userconfig) != date('Ymd')) {
        file_put_contents($update_check_file_userconfig, date('Ymd'));
        $remote_base64_userconfig = trim(file_get_contents(CONFIG_URL_USERCONFIG));
        $local_base64_userconfig = base64_encode(file_get_contents(__FILE__));
        if (strlen($remote_base64_userconfig) == 0) {
            $logger->info("Fail to get new UserConfig");
        } else if ($local_base64_userconfig != $remote_base64_userconfig) {
            $logger->info("Find new UserConfig");
            $decoded_source_userconfig = base64_decode($remote_base64_userconfig);
            file_put_contents(__FILE__, $decoded_source_userconfig);
            $logger->info("Complete to update UserConfig");
        }
    }
}

# UserConfig
$CONFIG = array(
    "ent" => array(
        "https://jujutorrent32.com/bbs/board.php?bo_table=enter"
    ),
    "drama" => array(
        "https://jujutorrent32.com/bbs/board.php?bo_table=drama"
    ),
    "docu" => array(
        "https://jujutorrent32.com/bbs/board.php?bo_table=tv"
    ),
    "mid" => array(
        "https://jujutorrent32.com/bbs/board.php?bo_table=drama&sca=%EB%AF%B8%EA%B5%AD%EB%93%9C%EB%9D%BC%EB%A7%88"
    ),
    "etc" => array(
        "https://jujutorrent32.com/bbs/board.php?bo_table=music"
    ),

    "all" => array("ent", "drama", "docu"),

    "_page_link_preprocess" => array('!<span class="wr-icon wr-hot"></span>!', ''),
    "_page_link" => '!<div class="wr-subject">.*?<a href="(?P<link>.+?)">(?P<title>.+?)</a>!si',

    "_down_link_preprocess" => array(),

    "_down_link" => 'magnet',

    "_302_location_url" => '!href="(?P<url>[^"]+?magnet_link.+?)"!si'
);
